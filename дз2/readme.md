
---

# Dependency Visualizer  

## Описание  
Этот проект представляет собой инструмент для визуализации графа зависимостей коммитов в Git-репозитории с использованием **PlantUML**. Программа загружает конфигурацию из JSON-файла, строит граф коммитов и создаёт изображение, отображающее связи между ними.  

Инструмент включает следующие функции:  
- Загрузка конфигурации из файла.  
- Получение графа коммитов из указанного репозитория и ветки.  
- Генерация изображения графа с помощью PlantUML.  
- Тестирование функций через модульные тесты.  

---

## Функции и настройки  

### Основные функции  

1. **Загрузка конфигурации**  
   Чтение параметров из конфигурационного файла `config.json`, включая:  
   - **`repo_path`**: путь к Git-репозиторию.  
   - **`branch_name`**: имя ветки для построения графа.  
   - **`plantuml_path`**: путь к JAR-файлу PlantUML.  
   - **`output_image_path`**: путь для сохранения изображения.  

   Пример `config.json`:  
   ```json
   {
       "repo_path": "/path/to/repo",
       "branch_name": "main",
       "plantuml_path": "/path/to/plantuml.jar",
       "output_image_path": "output.png"
   }
   ```

2. **Получение графа коммитов**  
   Генерация графа зависимостей коммитов с помощью библиотеки **GitPython**. Коммиты формируются в формат PlantUML.

3. **Генерация изображения**  
   Создание изображения графа коммитов через **PlantUML**. Изображение сохраняется в формате PNG по указанному пути.  

---

## Сборка проекта  

### Зависимости  
Перед запуском проекта необходимо установить все зависимости:  
```bash
pip install -r requirements.txt
```

### Команды сборки  

1. **Запуск программы:**  
   ```bash
   python dependency_visualizer.py
   ```

2. **Запуск тестов:**  
   ```bash
   pytest tests/test_dependency_visualizer.py
   ```

---

## Результаты тестирования  

Пример успешного запуска тестов:  
```bash
$ pytest tests/test_dependency_visualizer.py
=========================== test session starts ===========================
platform darwin -- Python 3.12.1, pytest-8.3.4
collected 3 items

tests/test_dependency_visualizer.py ...                                 [100%]

============================ 3 passed in 0.05s ============================
```

---

## Конфигурация и файлы проекта  

- **`dependency_visualizer.py`**: основной скрипт программы.  
- **`config.json`**: конфигурационный файл с параметрами.  
- **`requirements.txt`**: зависимости проекта.  
- **`tests/test_dependency_visualizer.py`**: модульные тесты для программы.  

---

## Пример изображения графа  

![Пример графа зависимостей](дз2/graph.png)  

---

## Ссылка на репозиторий  
https://github.com/riakkka/konfig.homeworks.git  

--- 

